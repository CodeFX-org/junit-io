# Pioneer's extensions should be thread-safe. To have a better chance to discover
# where they aren't and to test whether they are, we would like to run our own tests
# in full parallel mode. Unfortunately, this leads to problems when some tests
# change global state (like the security manager) that other tests rely on.[1]
# As we see it, the solution would be a way to force specific tests onto a single
# thread, but Jupiter has no such feature.[2]
#
# See also the configuration of `EngineTestKit.engine("junit-jupiter")`.
#
# [1] https://github.com/junit-pioneer/junit-pioneer/pull/253#issuecomment-665235062
# [2] https://github.com/junit-team/junit5/issues/2142

junit.jupiter.execution.parallel.enabled=true
junit.jupiter.execution.parallel.mode.default=concurrent
junit.jupiter.execution.parallel.mode.classes.default=same_thread
junit.jupiter.execution.parallel.config.strategy=dynamic
junit.jupiter.execution.parallel.config.dynamic.factor=1
